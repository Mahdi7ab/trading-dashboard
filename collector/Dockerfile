# ุงุณุชูุงุฏู ุงุฒ ฺฉ ุงูุฌ ุฑุณู ู ุณุจฺฉ ูพุงุชูู ุจู ุนููุงู ูพุงู
FROM python:3.10-slim

# ุชุนู ูพูุดู ฺฉุงุฑ ุฏุงุฎู ฺฉุงูุชูุฑ
WORKDIR /app

# ฺฉูพ ฺฉุฑุฏู ูุงู ูุงุฒููุฏโูุง ุจู ุฏุงุฎู ฺฉุงูุชูุฑ
COPY requirements.txt .

# ูุตุจ ฺฉุชุงุจุฎุงููโูุง ููุฑุฏ ูุงุฒ
RUN pip install --no-cache-dir -r requirements.txt

# -------------------------------------------------
# ๐ฝ ุงู ุฎุท ุฑุง ุชุบุฑ ุฏูุฏ ๐ฝ
# (ฺฉูพ ฺฉุฑุฏู ุชูุงู ุงุณฺฉุฑูพุชโูุง ูพุงุชูู ุจู ุฌุง ููุท collector.py)
COPY *.py .
# -------------------------------------------------

# ุฏุณุชูุฑ ฺฉู ูููุน ุงุฌุฑุง ฺฉุงูุชูุฑ ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ
# (ุงู ุฏุณุชูุฑ ุชูุณุท docker-compose ุจุงุฒููุณ ูโุดูุฏ)
CMD ["python", "collector.py"]